Change JavaScript Outh url with Website url after deployment


project/
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ db_utils.py

change annoymous mode liknk
work with Gitignore


-------------- To Do in future--------------------------
For now

Add mood trends or visual summaries üìà

Build a "check-in streak" system üîÑ

Make the bot remember past patterns or emotional states üß†





Gaps to Address for Stronger Positioning
To maximize your chances of landing a data science job, especially for competitive mid-level or ML engineer roles, consider these enhancements:

1. Containerization: Package your application with Docker to demonstrate production-ready deployment skills, a key Level 3 requirement.
2. API Development: If not already done, explicitly serve your sentiment analysis model and authentication features via a FastAPI or Flask API, and document the endpoints.
3. Monitoring: Add basic monitoring (e.g., Prometheus for API uptime or email delivery rates) to show you can maintain a production system.
4. Version Control: Use Git for code and, if applicable, MLflow or DVC for model versioning to align with Level 3 expectations.
5. Documentation: Create a detailed README or portfolio page explaining your project‚Äôs architecture, deployment process, and metrics (e.g., API latency, sentiment accuracy). The transcript emphasizes clear documentation for job applications.
6. CI/CD: Set up a simple CI/CD pipeline (e.g., using GitHub Actions) to automate testing and deployment, which is often expected for ML engineer roles.
7. Metrics: For the sentiment analysis, report evaluation metrics (e.g., accuracy, F1-score, or confusion matrix) to show model performance, and for the backend, measure latency or throughput.



---------------------------------------
1 ‚Üí "Very Negative" (high risk)
2 ‚Üí "Negative"
3 ‚Üí "Neutral"
4 ‚Üí "Positive"
5 ‚Üí "Very Positive"


Avg score ‚â§ 2.0 ‚Üí "High Risk"
2.0 < Avg ‚â§ 3.0 ‚Üí "Moderate Risk"
3.0 < Avg ‚â§ 5.0 ‚Üí "Low Risk"

import random

emotion_responses = {
    "high_risk": [
        "It sounds like you're really struggling right now. You're not alone ‚Äî please consider reaching out for support.",
        "This seems like a heavy moment. Take a deep breath ‚Äî you're allowed to feel this way. Help is always available.",
        "I hear the pain in your words. It's okay to not be okay. You're important, and there are people who care.",
        "You matter ‚Äî even if it doesn‚Äôt feel like it right now. Please don‚Äôt hesitate to talk to someone you trust.",
        "If you‚Äôre feeling overwhelmed, know that seeking help is a strength. You don‚Äôt have to carry this alone."
    ],
    "moderate_risk": [
        "Things seem tough right now. Maybe a break or some rest could help. You‚Äôve made it through hard days before.",
        "That sounds frustrating or draining. Try to take a little time for yourself ‚Äî you deserve it.",
        "It‚Äôs okay to have low days. You don‚Äôt need to have it all figured out today.",
        "Even when things are hard, showing up is a win. Be kind to yourself.",
        "You‚Äôve been carrying a lot. Remember, it's okay to slow down and breathe."
    ],
    "neutral": [
        "You seem to be in a steady place. If anything changes, I‚Äôm here to listen.",
        "It's good to pause and reflect sometimes. You're doing just fine.",
        "It‚Äôs okay to feel in-between. Not every day has to be high or low.",
        "You‚Äôre managing ‚Äî that counts. Keep checking in with yourself.",
        "Even on neutral days, small wins matter. You're moving forward."
    ],
    "low_risk": [
        "You‚Äôre sounding great today! Hold on to that positivity ‚Äî it's powerful.",
        "It‚Äôs wonderful to hear this kind of energy from you. Keep it going!",
        "You seem in a good space today. Keep nurturing what makes you feel this way.",
        "That‚Äôs awesome! Celebrate the moments that lift you up.",
        "Love that you're feeling this way. Stay connected to what brings you joy."
    ]
}


streamlit phone number











# --- Main UI Layout --- new----------
if "messages" not in st.session_state:
    st.session_state.messages = []

# --- User Section ---
with st.chat_message("user"):
    st.write("User")
    user_input = st.chat_input("How are you feeling today ?")

# ------------- Process the response after rerun
if user_input:
    with st.chat_message("assistant"):
        message_placeholder = st.empty()
        message_placeholder.markdown("üß† Thinking...")

        time.sleep(2)

        # Predict once
        emotion_label = predict_emotion(user_input)
        supportive_reply = get_emotion_response(emotion_label)
        risk_level = get_risk_with_emoji(emotion_label)
        timestamp = datetime.now().strftime(" %I:%M %p , %d %b %Y")

        final_response = f"""
        {timestamp}

        User : {user_input}

        **Predicted Emotion:** {emotion_label}

        **Risk Level:** {risk_level}

        {supportive_reply}
        """

        st.session_state.messages.append({"role": "assistant", "content": final_response})

        message_placeholder.markdown("Waiting for new input ...")

# --- Assistant Section ---
if not user_input:
    with st.chat_message("assistant"):
        st.write("Hello user .")

# Show latest message
if st.session_state.messages:
    with st.chat_message("assistant"):
        st.markdown(st.session_state.messages[-1]["content"])

# Then show previous ones in expander
if len(st.session_state.messages) > 1:
    with st.expander(" View previous responses"):
        for msg in st.session_state.messages[:-1]:  # all except last
            with st.chat_message("assistant"):
                st.markdown(msg["content"])

# Add vertical space above the "Daily Free Advice" header
st.markdown("<div style='margin-top: 50px;'></div>", unsafe_allow_html=True)

st.header("Daily Free Advice", divider="grey")

# Add space after header
st.markdown("<div style='margin-top: 25px;'></div>", unsafe_allow_html=True)

# Pick a random quote
quote = random.choice(free_advice["bhagavad_gita"])

# Display quote block
st.markdown(f"""
<div style='background-color: #ffffff; padding: 25px; border-radius: 12px;
             box-shadow: 2px 2px 12px rgba(0,0,0,0.05); border: 1px solid #e0e0e0;
             margin-top: 10px;'>

<p style='text-align: center; font-size: 20px; color: #333333;
          font-family: "Segoe UI", "Helvetica", sans-serif; font-style: italic; line-height: 1.6;'>
‚Äú{quote}‚Äù
</p>

</div>
""", unsafe_allow_html=True)
st.markdown("<div style='margin-top: 50px;'></div>", unsafe_allow_html=True)
st.header("Session History üìà", divider="grey")
st.markdown("""
    <div style='text-align: center; padding: 8px; font-size: 15px;'>
        Under Development
    </div>
""", unsafe_allow_html=True)

# Call the function to render the footer
Utils.footer.render_footer()



#-suprabse sql


-- Create a function that will be triggered when a new user signs up
CREATE OR REPLACE FUNCTION public.handle_new_user_signup()
RETURNS TRIGGER
LANGUAGE plpgsql
SECURITY DEFINER
SET search_path = public
AS $$
BEGIN
  -- Insert into User Credentials table when a new user is created in auth.users
  INSERT INTO public."User Credentials" (
    user_id,
    "Email",
    "User Name",
    "Mobile Number"
  )
  VALUES (
    NEW.id::bigint,
    NEW.email,
    COALESCE(NEW.raw_user_meta_data->>'username', NEW.raw_user_meta_data->>'full_name', 'User'),
    NEW.phone
  );

  RETURN NEW;
END;
$$;

-- Create the trigger that fires after a user is inserted into auth.users
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW
  EXECUTE FUNCTION public.handle_new_user_signup();
